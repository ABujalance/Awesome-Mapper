{"version":3,"sources":["logo.svg","../public/images sync /^/.*$","../public/images/special/bucket.png","../public/images/special/empty.png","../public/images/special/eraser.png","../public/images/special/grid.png","../public/images/special/transparent.png","../public/images sync nonrecursive /^/.*$","Actions/index.js","components/NewMapForm.js","components/MapLayer.js","components/MapGrid.js","components/Map.js","components/TilesGallery.js","components/AddLayer.js","components/LayerSelector.js","components/SelectedTileDisplay.js","components/SelectBrushSize.js","components/PrintMap.js","components/ToggleGrid.js","components/SaveLoadMap.js","App.js","serviceWorker.js","reducers/mapReducer.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","webpackEmptyContext","CREATE_MAP","CHANGE_DRAGGED_ELEMENT","PLACE_TILE","SELECT_LAYER","SET_BRUSH_SIZE","ADD_LAYER","TOGGLE_GRID","LOAD_MAP","TOGGLE_ERASE_MODE","TOGGLE_CLEAR_MODE","UPDATE_MAP_IMAGES","FINISH_LOAD","START_LOAD","SET_UNDO_STACK","DELETE_LAYER","CHANGE_LAYER_NAMES","NewMapForm","props","dispatch","useDispatch","xMapSize","useSelector","state","yMapSize","mapBase","useState","xTiles","setxTiles","yTiles","setyTiles","formMapBase","setFormMapBase","onSubmit","preventDefault","type","Actions","xSize","ySize","value","onChange","target","name","min","MapLayer","brushSize","draggedElement","eraseMode","selectedLayer","mapImages","undoStack","isLoadingMap","clearMode","mouseDown","setMouseDown","currentX","setCurrentX","currentY","setCurrentY","canvasRef","useRef","undo","newUndoStack","pop","undoImage","length","console","log","canvas","current","ctx","getContext","clearRect","width","height","image","Image","src","onload","drawImage","stopDrawing","newMapImages","imgUrl","toDataURL","layer","push","saveMapState","roundNumber","coordinate","simpleBaseCoordinate","Math","floor","addTile","evt","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","imageToPrint","pattern","createPattern","fillStyle","fillRect","i","j","removeTile","loadMapState","className","onKeyDown","ctrlKey","keyCode","handleKeyDown","onMouseDown","window","confirm","onMouseUp","onMouseLeave","onMouseMove","ref","tabIndex","style","display","MapGrid","useEffect","context","bw","bh","moveTo","lineTo","strokeStyle","stroke","beginPath","AwesomeMap","mapLayers","showGrid","cleaisLoadingMaprMode","deletedLayers","mapClass","concat","Array","from","el","index","includes","TilesGallery","editFolder","setEditFolder","editFolderEditing","setEditFolderEditing","customTiles","setCustomTiles","inputFolderName","focus","editFolderName","customTileCollection","folderName","saveFolderName","event","collectionIndex","a","files","table","oldTiles","tiles","newTiles","file","objectURL","URL","createObjectURL","newTilesSet","onDoubleClick","onClick","onBlur","key","newCustomCollection","Number","addFolder","tileName","class","onChangeHandler","accept","multiple","AddLayer","LayerSelector","layerNames","editLayer","setEditLayer","editLayerInput","setEditLayerInput","inputLayerName","select","saveLayerName","newLayerNames","editLayerName","deletedLayer","SelectedTileDisplay","selectedTile","border","SelectBrushSize","selectedSize","size","PrintMap","document","createElement","callback","images","loadedImages","numImages","loadImages","setTimeout","canvasUrl","open","write","ToggleGrid","checked","SaveLoadMap","loadFile","JSON","text","parse","YSize","alert","Blob","stringify","element","href","download","body","appendChild","click","onClickSave","tileTypes","require","App","altKey","onKeyUp","handleKeyUp","Boolean","location","hostname","match","initialState","layersLoaded","store","createStore","action","ActionTypes","newMapBase","newLayers","newSelectedLayer","newDeletedLayers","newMapLayers","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.6c3cf8a0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","var map = {\n\t\"./special/bucket.png\": 37,\n\t\"./special/empty.png\": 38,\n\t\"./special/eraser.png\": 39,\n\t\"./special/grid.png\": 40,\n\t\"./special/transparent.png\": 41\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 36;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAADVElEQVRYhbXXXYhVVRQH8N/chpqihyEkIiIKomSIiBALCtllYJCISWA9CNoXmPXSB+JDsECCHioLMipJYlKstDEKwoLi0AeJUehDZSEGPVhEyBBiJpehh7Nvnrmee+eemXHBZZ+91977/79r7/WxhwwgETGKh7AMV+EEDuDliPhxkD16ydAA4HdgFy6tUZ/Gpoh4cbYEzpsBfBE+xWgeOoh9+A1X43wsSyn9UxTF17Mh0NMCETGMQxjDKayJiD0V/UJ8hGvQxu0R8VVTAq0+uhUZHDZWwTOBw8o7MYlhbI2Ifvs1JrA6t3/gtboJEXEUz+TuDVjZlMBwH92Nuf08Ik5nwCV4FiPYHBEf4g1swuVYj4kmBPpZ4OLc/pzBV+AT3IZF2BsRazO58Tw3RcSCJgR6ekFK6S/8i+dSSkvxHi6oTBnC8pTSLvyKR/If+q4oih8GJdDTAhExHhH34xa8q3S5bhnGTfgef+exmwcF70sgk7hXGYTqwDsyGhFTOJz71zYh0PMSZvCdM4BThmU4ltvL8volyvsykV12cAINwCmjI5zM7Uhuv8Dd+Cki9mML9mRr/S9nHUFErGoA/molGb2NKYxFxAMRARvxvDP36JuIGKtuMI1ABp/pzKvSCUIiYh/25z23ZReFp9FJVovxbXbp6QQiYmVDcM7Eiu5+C29WSDyJl7LuIuzOWbZMRhGxHO83BKfMjGuULviUMkpWZQrrskvDVjyadcdw3VBE3IW9zlyeptLOv17r21gdERM5We3EfVn3eAvb5gBO6Un91g/jBcge8HpFd08Lx+cAPqicqHwvrXwvbGH3OQZvK91RRFyJJyq6kRZece6s0FZWUh/n/halF3Sk1YqISaWvzrd0POAdiIjFWNU9qRMHtuODeQZ/MCJ2VMbW101sZXawDr/MI/hbXeN31s2tRsJJZfL4c47gD3eDR8SIsmTrTSBPPKKsdGdzKTvg23vopmrGa7PhQaWvNrFEx+x14HLdeKBG1a6tiDKJWw12J3qdebdsdrYVTvYsSouiOJ5S2oHr9S6zBgVXFMWRlFLb9Ej4Wd+3YVEUp3LV+7vSIhdW1G2sjYjx2sX1+32ZUjqEK3AUG2Z8HXckIi7BY8oX0wJs6H6uzUb+A8LWJA06nE0EAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAXElEQVRYhe3W0QnAIAyE4VPcphu4v05g50k3OB+kteCf1yPwQUhIGq2FTF21ulh37zaf9WebflAAAABIEWHvwOqez/oZAQAA2wHl7T3nHwAA4PcA/gEAAA4HSHoAXBMf9o6ofKQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEl0lEQVR4nNWbW4geNRiGn9YDIrLUUqWIKEiFRaSIeCyCKXUvhIqgKChYvNN78cSivtVa9UbwwgsFUVCqSL3wuJa6GBDxQFEQkUVqXZdlLSoKIhWsbr2YGRjW/MlMJpkZ38t8X/Llff8k8+dLso6RQtJW4DZgG7AZWAWOAAeBVyT9kiLOuhSNpISk04AXgNs9bseAp4A9kla7xBuVAJKmgDcB07DK68Adkv6KjTkaASRtAOaAq1pWfQu4JVaEUQggaSNwALgssol3gJtjRBhcAEmbKBa2Szo2FTUSBhWgJD8PbE3UZOuRMJgAks6mIH9x4qZbibA+cfBGkLSZPOQBdgJvlJ/TIHoXIDP5CjuBV5s4npSxE/9BjfxFPYSbNsZ8Yq39zufU2wgoyX9IP+Qr3BNy6GURrJGf7iNeDavA+ZKWJzlkHwEDkoeC300hh2wYmHyFG3zGbAKMhDzAFp8xiwAjIh9EcgEkncP/hDwkFqAkP8+4yHsTJskECJBfShUnNZIIECD/IPBaijiR+Ntn7CxAiLykJwkMwyHRSYCG5IdGnhFQfuoO4iY/u4a8txOZkX4RDOzqZiXtjWk3E9IKUMvktCE/5BqQbgpEkh8a3tRYYwFq2VtXJuehAPl/msbJgO4ClIcWB3Bnbx+VtCfQxJBT4A+fMSiApNOBt4FLHea9kh6J7Fhf+NpnbDICngGucZQ/LWk2qkv9YRV40efgFUDSFuBOh+kl4N7YXvWI5yUt+BxCI+BW4OQ1ZZ8Dd7U8lh5iDVgA7g85hQS40FH2WJfj6J6wBFwv6feQY0iADY6yQ1Fd6g/LwA5Ji02cQwK4jpeOte0RsBhRJwbLwHZJh5tWCAmwdv5DxMZG0j6KvEBOrFD88o3JQ1gAlz1qZ1fuDnOJUJH/tm3FGAGikUmEirz3czcJMQQ77e0Ti9CJPAx3PyCFCJ3Jw0ACQGcRjpKAPMQJ4PoyRCFShGTkYcARUKGlCBX5b1LFjxEgx3FaExFWKP7kJCMPIxGgxD5g0gXoJAueC4NPAQBJ51LkGjc5zNnIwwhGQO18wXWOn5U8hMlk3cfXssyuw5Xs5GFAAWrXZF0p9mpXl5U8hAVwJT5SHKhuZHKKvdrPt97YxCBExrX3n+oSsJZid90O75U8hAX4yVH2eGwwFS9CJr0L6J08hAX4zFG2S9LutoFK8nPAFQ5zNed7JQ9hAfbjHgUPS7qvaRBJZ1AcrmxzmJdomcZKCe9laWvtcWPMr8CNDvOMMeZPa+3HvjZq5K91mCvy3gvNORG8LW6t/dIYMwVc7TDPGGOOW2s/ctUtyb+Lm/wiYCR936K/ydHourwx5gPgLOByh3mHMeZUY4y11p6oCss/Oe/jHvZHKMj/ENHnpGh8W1zSeuBZ4O4JLu8Bz1GsGdPAbuA8h99hitV+FFfnWl2XbyBCCAsU5Fci6ydHqxcj1toTxpg54EzgypaxvgKuk/Rjy3pZEf1gQtITwAMN3Q9RnNUlefCcEtFvhqy188aYn4HtwCke1/0Uz9h+i42VE52fzJSr/S5gBriAIml6FPgUeFnSF11j5MS/NXiavvEZUikAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAARUlEQVRYhe3XIRIAMAwCQej0/19OpxFV1cEcJnGsxZJK4SQBtd9Xsw7bfddo6ycAAAAAAAAAAAAAAAAAAOAmOk6z81zSAfMHCTfIbbnvAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAG0lEQVRYhe3BAQEAAAjDoNm/tEEOBAAAAGyrexAhAAJC6HS9AAAAAElFTkSuQmCC\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 42;","const CounterTypes = {\r\n  CREATE_MAP: \"CREATE_MAP\",\r\n  CHANGE_DRAGGED_ELEMENT: \"CHANGE_DRAGGED_ELEMENT\",\r\n  PLACE_TILE: \"PLACE_TILE\",\r\n  SELECT_LAYER: \"SELECT_LAYER\",\r\n  SET_BRUSH_SIZE: \"SET_BRUSH_SIZE\",\r\n  ADD_LAYER: \"ADD_LAYER\",\r\n  TOGGLE_GRID: \"TOGGLE_GRID\",\r\n  LOAD_MAP: \"LOAD_MAP\",\r\n  TOGGLE_ERASE_MODE: \"TOGGLE_ERASE_MODE\",\r\n  TOGGLE_CLEAR_MODE: \"TOGGLE_CLEAR_MODE\",\r\n  UPDATE_MAP_IMAGES: \"UPDATE_MAP_IMAGES\",\r\n  FINISH_LOAD: \"FINISH_LOAD\",\r\n  START_LOAD: \"START_LOAD\",\r\n  SET_UNDO_STACK: \"SET_UNDO_STACK\",\r\n  DELETE_LAYER: \"DELETE_LAYER\",\r\n  CHANGE_LAYER_NAMES: \"CHANGE_LAYER_NAMES\",\r\n};\r\nexport default {\r\n  ...CounterTypes,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst NewMapForm = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const xMapSize = useSelector((state) => state.xMapSize);\r\n  const yMapSize = useSelector((state) => state.yMapSize);\r\n  const mapBase = useSelector((state) => state.mapBase);\r\n  const [xTiles, setxTiles] = useState(xMapSize);\r\n  const [yTiles, setyTiles] = useState(yMapSize);\r\n  const [formMapBase, setFormMapBase] = useState(mapBase);\r\n\r\n  const handleNewMapSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch({\r\n      type: Actions.CREATE_MAP,\r\n      xSize: xTiles,\r\n      ySize: yTiles,\r\n      mapBase: formMapBase,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleNewMapSubmit}>\r\n        <label>X nº of tiles: </label>\r\n        <input\r\n          value={xTiles}\r\n          onChange={(e) => setxTiles(e.target.value)}\r\n          type=\"number\"\r\n          name=\"xTiles\"\r\n          min=\"1\"\r\n        />\r\n        <br />\r\n        <label>Y nº of tiles: </label>\r\n        <input\r\n          value={yTiles}\r\n          onChange={(e) => setyTiles(e.target.value)}\r\n          type=\"number\"\r\n          name=\"yTiles\"\r\n          min=\"1\"\r\n        />\r\n        <br />\r\n        <label>Pixels per Tile </label>\r\n        <input\r\n          value={formMapBase}\r\n          onChange={(e) => setFormMapBase(e.target.value)}\r\n          type=\"number\"\r\n          name=\"formMapBase\"\r\n          min=\"1\"\r\n        />\r\n        <br />\r\n        <button type=\"submit\">Generate new Map!</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewMapForm;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst MapLayer = (props) => {\r\n  const dispatch = useDispatch();\r\n  const brushSize = useSelector((state) => state.brushSize);\r\n  const xMapSize = useSelector((state) => state.xMapSize);\r\n  const yMapSize = useSelector((state) => state.yMapSize);\r\n  const draggedElement = useSelector((state) => state.draggedElement);\r\n  const eraseMode = useSelector((state) => state.eraseMode);\r\n  const selectedLayer = useSelector((state) => state.selectedLayer);\r\n  const mapImages = useSelector((state) => state.mapImages);\r\n  const undoStack = useSelector((state) => state.undoStack);\r\n  const isLoadingMap = useSelector((state) => state.isLoadingMap);\r\n\r\n  const mapBase = useSelector((state) => state.mapBase);\r\n  const clearMode = useSelector((state) => state.clearMode);\r\n\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n  const [currentX, setCurrentX] = useState(null);\r\n  const [currentY, setCurrentY] = useState(null);\r\n\r\n  const canvasRef = useRef(null);\r\n\r\n  const onMouseDown = (evt) => {\r\n    if (clearMode) {\r\n      if (\r\n        window.confirm(\r\n          \"Are you sure you want to delete the contents of the layer?\"\r\n        )\r\n      ) {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext(\"2d\");\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      }\r\n    } else {\r\n      setMouseDown(true);\r\n      if (eraseMode) {\r\n        removeTile(evt);\r\n      } else {\r\n        addTile(evt);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (evt) => {\r\n    if (evt.ctrlKey) {\r\n      if (evt.keyCode === 90) {\r\n        undo();\r\n      }\r\n    }\r\n  };\r\n  const saveMapState = () => {\r\n    const canvas = canvasRef.current;\r\n    var newMapImages = [...mapImages];\r\n\r\n    //Obtain base64 canvas image to save it\r\n    var imgUrl = canvas.toDataURL();\r\n\r\n    newMapImages[props.layer] = imgUrl;\r\n    dispatch({\r\n      type: Actions.UPDATE_MAP_IMAGES,\r\n      mapImages: newMapImages,\r\n    });\r\n    var newUndoStack = [...undoStack];\r\n    newUndoStack.push(imgUrl);\r\n    dispatch({\r\n      type: Actions.SET_UNDO_STACK,\r\n      undoStack: newUndoStack,\r\n    });\r\n  };\r\n\r\n  const undo = () => {\r\n    var newUndoStack = [...undoStack];\r\n    newUndoStack.pop();\r\n    const undoImage = newUndoStack[newUndoStack.length - 1];\r\n    console.log(undoImage);\r\n    const canvas = canvasRef.current;\r\n    var ctx = canvas.getContext(\"2d\");\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    var image = new Image();\r\n\r\n    image.src = undoImage;\r\n\r\n    image.onload = function () {\r\n      ctx.drawImage(image, 0, 0);\r\n    };\r\n    dispatch({\r\n      type: Actions.SET_UNDO_STACK,\r\n      undoStack: newUndoStack,\r\n    });\r\n  };\r\n\r\n  const loadMapState = () => {\r\n    const canvas = canvasRef.current;\r\n    var ctx = canvas.getContext(\"2d\");\r\n    var image = new Image();\r\n\r\n    image.src = mapImages[props.layer];\r\n\r\n    image.onload = function () {\r\n      ctx.drawImage(image, 0, 0);\r\n    };\r\n  };\r\n\r\n  const stopDrawing = () => {\r\n    setMouseDown(false);\r\n    setCurrentX(null);\r\n    setCurrentY(null);\r\n    saveMapState();\r\n  };\r\n\r\n  const onMouseLeave = () => {\r\n    if (mouseDown) {\r\n      stopDrawing();\r\n    }\r\n  };\r\n\r\n  const onMouseMove = (evt) => {\r\n    if (mouseDown) {\r\n      if (eraseMode) {\r\n        removeTile(evt);\r\n      } else {\r\n        addTile(evt);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onMouseUp = () => {\r\n    stopDrawing();\r\n  };\r\n\r\n  const roundNumber = (coordinate) => {\r\n    const simpleBaseCoordinate = coordinate / mapBase;\r\n    const floorSimpleBaseCoordinate = Math.floor(simpleBaseCoordinate);\r\n    return floorSimpleBaseCoordinate * mapBase;\r\n  };\r\n\r\n  const addTile = (evt) => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = roundNumber(evt.clientX - rect.left);\r\n    const y = roundNumber(evt.clientY - rect.top);\r\n    if (x != currentX || y != currentY) {\r\n      var imageToPrint = new Image();\r\n      imageToPrint.src = draggedElement;\r\n      imageToPrint.onload = () => {\r\n        if (brushSize === 0) {\r\n          var pattern = ctx.createPattern(imageToPrint, \"repeat\");\r\n          ctx.fillStyle = pattern;\r\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        } else {\r\n          for (var i = 0; i < brushSize; i++) {\r\n            for (var j = 0; j < brushSize; j++) {\r\n              ctx.clearRect(x + i * mapBase, y + j * mapBase, mapBase, mapBase);\r\n              ctx.drawImage(imageToPrint, x + i * mapBase, y + j * mapBase);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      setCurrentX(x);\r\n      setCurrentY(y);\r\n    }\r\n  };\r\n\r\n  const removeTile = (evt) => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = roundNumber(evt.clientX - rect.left);\r\n    const y = roundNumber(evt.clientY - rect.top);\r\n    if (x != currentX || y != currentY) {\r\n      for (var i = 0; i < brushSize; i++) {\r\n        for (var j = 0; j < brushSize; j++) {\r\n          ctx.clearRect(x + i * mapBase, y + j * mapBase, mapBase, mapBase);\r\n        }\r\n      }\r\n      setCurrentX(x);\r\n      setCurrentY(y);\r\n    }\r\n  };\r\n\r\n  if (isLoadingMap && canvasRef.current) {\r\n    console.log(\"cagando\");\r\n    loadMapState();\r\n    dispatch({\r\n      type: Actions.FINISH_LOAD,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <canvas\r\n      className=\"map-canvas\"\r\n      onKeyDown={(evt) => handleKeyDown(evt)}\r\n      onMouseDown={(evt) => onMouseDown(evt)}\r\n      onMouseUp={() => onMouseUp()}\r\n      onMouseLeave={() => onMouseLeave()}\r\n      onMouseMove={(evt) => onMouseMove(evt)}\r\n      ref={canvasRef}\r\n      tabIndex=\"1000\"\r\n      id={\"myCanvas-\" + props.layer}\r\n      width={xMapSize * mapBase}\r\n      height={yMapSize * mapBase}\r\n      style={selectedLayer < props.layer ? { display: \"none\" } : {}}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MapLayer;\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst MapGrid = (props) => {\r\n  const xMapSize = useSelector((state) => state.xMapSize);\r\n  const yMapSize = useSelector((state) => state.yMapSize);\r\n\r\n  const mapBase = props.mapBase;\r\n\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    const bw = context.canvas.width;\r\n    const bh = context.canvas.height;\r\n    console.log(bw);\r\n    console.log(bh);\r\n    console.log(mapBase);\r\n    context.clearRect(0, 0, bw, bh);\r\n\r\n    var p = 0;\r\n    console.log(p);\r\n\r\n    for (var x = 0; x <= bw; x += mapBase) {\r\n      context.moveTo(x + p, p);\r\n      context.lineTo(x + p, bh + p);\r\n    }\r\n\r\n    for (var x = 0; x <= bh; x += mapBase) {\r\n      context.moveTo(p, x + p);\r\n      context.lineTo(bw + p, x + p);\r\n    }\r\n\r\n    context.strokeStyle = \"black\";\r\n    context.stroke();\r\n    context.beginPath();\r\n  }, []);\r\n\r\n  return (\r\n    <canvas\r\n      className=\"map-canvas grid\"\r\n      ref={canvasRef}\r\n      tabIndex=\"1000\"\r\n      id=\"gridCanvas\"\r\n      width={xMapSize * mapBase}\r\n      height={yMapSize * mapBase}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MapGrid;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Layer from \"./MapLayer\";\r\nimport MapGrid from \"./MapGrid\";\r\n\r\nconst AwesomeMap = (props) => {\r\n  const mapLayers = useSelector((state) => state.mapLayers);\r\n  const showGrid = useSelector((state) => state.showGrid);\r\n  const mapBase = useSelector((state) => state.mapBase);\r\n  const isLoadingMap = useSelector((state) => state.cleaisLoadingMaprMode);\r\n  const brushSize = useSelector((state) => state.brushSize);\r\n  const eraseMode = useSelector((state) => state.eraseMode);\r\n  const clearMode = useSelector((state) => state.clearMode);\r\n  const deletedLayers = useSelector((state) => state.deletedLayers);\r\n\r\n  var mapClass = \"map-canvas-container\";\r\n  if (clearMode) {\r\n    mapClass = mapClass.concat(\" clear-pointer\");\r\n  } else if (brushSize === 0) {\r\n    mapClass = mapClass.concat(\" eraser-pointer\");\r\n  } else if (eraseMode) {\r\n    mapClass = mapClass.concat(\" bucket-pointer\");\r\n  } else {\r\n    mapClass = mapClass.concat(\" brush-pointer\");\r\n  }\r\n  return (\r\n    <div className={mapClass}>\r\n      <Layer layer={0} isLoadingMap={isLoadingMap} />\r\n      {Array.from(Array(mapLayers), (el, index) => {\r\n        if (!deletedLayers.includes(index)) {\r\n          return <Layer layer={index + 1} isLoadingMap={isLoadingMap} />;\r\n        }\r\n      })}\r\n      {showGrid ? <MapGrid mapBase={mapBase} /> : <div></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AwesomeMap;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\nimport { Collapse, Button, CardBody, Card } from \"reactstrap\";\r\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\r\nimport \"react-tabs/style/react-tabs.css\";\r\nimport { FaEdit, FaCheck, FaPlus } from \"react-icons/fa\";\r\n\r\nconst TilesGallery = (props) => {\r\n  const dispatch = useDispatch();\r\n  const [openFolder, setOpenFolder] = useState(\"\");\r\n  const [editFolder, setEditFolder] = useState(\"\");\r\n  const [editFolderEditing, setEditFolderEditing] = useState(\"\");\r\n  const [customTiles, setCustomTiles] = useState([]);\r\n  const toggle = (folder) => {\r\n    if (openFolder === folder) {\r\n      setOpenFolder(\"\");\r\n    } else {\r\n      setOpenFolder(folder);\r\n    }\r\n  };\r\n\r\n  const inputFolderName = useRef(null);\r\n  useEffect(() => {\r\n    if (inputFolderName.current) {\r\n      inputFolderName.current.focus();\r\n    }\r\n  });\r\n\r\n  const onClick = (event, tileName) => {\r\n    event.preventDefault();\r\n    dispatch({\r\n      type: Actions.CHANGE_DRAGGED_ELEMENT,\r\n      draggedElement: tileName,\r\n    });\r\n  };\r\n\r\n  const handleKeyDown = (evt, customTileCollection) => {\r\n    if (evt.key === \"Enter\") {\r\n      saveFolderName(customTileCollection);\r\n    }\r\n    if (evt.keyCode === 27) {\r\n      saveFolderName(customTileCollection);\r\n    }\r\n  };\r\n\r\n  const editFolderName = (customTileCollection) => {\r\n    setEditFolder(customTileCollection.folderName);\r\n    setEditFolderEditing(customTileCollection.folderName);\r\n  };\r\n\r\n  const saveFolderName = (customTileCollection) => {\r\n    customTileCollection.folderName = editFolderEditing;\r\n    setEditFolder(\"\");\r\n  };\r\n\r\n  async function onChangeHandler(event, collectionIndex) {\r\n    const files = event.target.files;\r\n    console.table(customTiles);\r\n    const oldTiles = customTiles[collectionIndex].tiles;\r\n    var newTiles = [...oldTiles];\r\n    for (var i = 0; i < files.length; i++) {\r\n      const file = event.target.files[i];\r\n      var objectURL = URL.createObjectURL(file);\r\n      newTiles.push(objectURL);\r\n    }\r\n    var newTilesSet = [...customTiles];\r\n    newTilesSet[collectionIndex].tiles = newTiles;\r\n    setCustomTiles(newTilesSet);\r\n    event.target.value = null;\r\n  }\r\n\r\n  function addFolder(event) {\r\n    var newCustomCollection = {\r\n      folderName: \"Custom collection \" + Number(customTiles.length + 1),\r\n      tiles: [],\r\n    };\r\n    setCustomTiles([...customTiles, newCustomCollection]);\r\n  }\r\n\r\n  return (\r\n    <div className=\"tiles-selector\">\r\n      <h2>Tile Selector</h2>\r\n      <Tabs>\r\n        <TabList>\r\n          {customTiles.map((customTileCollection) => {\r\n            if (editFolder != customTileCollection.folderName) {\r\n              return (\r\n                <Tab\r\n                  onDoubleClick={() => {\r\n                    editFolderName(customTileCollection);\r\n                  }}\r\n                >\r\n                  {customTileCollection.folderName}&nbsp;&nbsp;\r\n                  <a\r\n                    onClick={() => {\r\n                      editFolderName(customTileCollection);\r\n                    }}\r\n                  >\r\n                    <FaEdit />\r\n                  </a>\r\n                </Tab>\r\n              );\r\n            } else {\r\n              return (\r\n                <Tab tabIndex=\"200\">\r\n                  <input\r\n                    ref={inputFolderName}\r\n                    onBlur={() => {\r\n                      saveFolderName(customTileCollection);\r\n                    }}\r\n                    type=\"text\"\r\n                    value={editFolderEditing}\r\n                    onChange={(evt) => {\r\n                      setEditFolderEditing(evt.target.value);\r\n                    }}\r\n                    onKeyDown={(evt) =>\r\n                      handleKeyDown(evt, customTileCollection)\r\n                    }\r\n                  ></input>\r\n                  &nbsp;&nbsp;\r\n                  <a\r\n                    onClick={() => {\r\n                      saveFolderName(customTileCollection);\r\n                    }}\r\n                  >\r\n                    <FaCheck />\r\n                  </a>\r\n                </Tab>\r\n              );\r\n            }\r\n          })}\r\n          <Tab onClick={(evt) => addFolder(evt)}>\r\n            <FaPlus />\r\n          </Tab>\r\n        </TabList>\r\n        {customTiles.map((customTileCollection, index) => {\r\n          return (\r\n            <TabPanel className=\"tiles-panel\">\r\n              <div className=\"tiles-gallery\">\r\n                {customTileCollection.tiles.map((tileName) => {\r\n                  return (\r\n                    <div\r\n                      className=\"drag-tile\"\r\n                      onClick={(event) => onClick(event, tileName)}\r\n                    >\r\n                      <img src={tileName}></img>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              <label class=\"upload-tiles\">\r\n                <input\r\n                  id=\"loadTiles\"\r\n                  type=\"file\"\r\n                  name=\"file\"\r\n                  onChange={(evt) => onChangeHandler(evt, index)}\r\n                  accept=\".png\"\r\n                  multiple\r\n                />\r\n                <span>Add Tiles</span>\r\n              </label>\r\n            </TabPanel>\r\n          );\r\n        })}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TilesGallery;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst AddLayer = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = (evt) => {\r\n    dispatch({\r\n      type: Actions.ADD_LAYER,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <button onClick={(evt) => onClick(evt)} className=\"btn btn-dark\">\r\n      +\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default AddLayer;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\nimport AddLayer from \"./AddLayer\";\r\nimport { FaTrash, FaEdit, FaCheck } from \"react-icons/fa\";\r\n\r\nconst LayerSelector = (props) => {\r\n  const dispatch = useDispatch();\r\n  const selectedLayer = useSelector((state) => state.selectedLayer);\r\n  const mapLayers = useSelector((state) => state.mapLayers);\r\n  const deletedLayers = useSelector((state) => state.deletedLayers);\r\n  const layerNames = useSelector((state) => state.layerNames);\r\n  const [editLayer, setEditLayer] = useState();\r\n  const [editLayerInput, setEditLayerInput] = useState(\"\");\r\n\r\n  const inputLayerName = useRef(null);\r\n  useEffect(() => {\r\n    if (inputLayerName.current) {\r\n      inputLayerName.current.focus();\r\n    }\r\n  });\r\n\r\n  const onClick = (evt, select) => {\r\n    dispatch({\r\n      type: Actions.SELECT_LAYER,\r\n      selectedLayer: select,\r\n    });\r\n  };\r\n\r\n  const handleKeyDown = (evt, index) => {\r\n    if (evt.key === \"Enter\") {\r\n      saveLayerName(index);\r\n    }\r\n    if (evt.keyCode === 27) {\r\n      saveLayerName(index);\r\n    }\r\n  };\r\n\r\n  const saveLayerName = (index) => {\r\n    var newLayerNames = [...layerNames];\r\n    newLayerNames[index] = editLayerInput;\r\n    dispatch({\r\n      type: Actions.CHANGE_LAYER_NAMES,\r\n      layerNames: newLayerNames,\r\n    });\r\n    setEditLayerInput(\"\");\r\n    setEditLayer();\r\n  };\r\n\r\n  const deleteLayer = (evt, deletedLayer) => {\r\n    if (\r\n      window.confirm(\r\n        \"Do you want to delete the Layer called \" +\r\n          layerNames[deletedLayer] +\r\n          \"? This action cannot be undone\"\r\n      )\r\n    ) {\r\n      dispatch({\r\n        type: Actions.DELETE_LAYER,\r\n        deletedLayer: deletedLayer,\r\n      });\r\n    }\r\n  };\r\n\r\n  const editLayerName = (index) => {\r\n    setEditLayer(index);\r\n    setEditLayerInput(layerNames[index]);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={(evt) => onClick(evt, 0)}\r\n        className={\r\n          selectedLayer === 0\r\n            ? \"btn btn-outline-dark active\"\r\n            : \"btn btn-outline-dark\"\r\n        }\r\n      >\r\n        Base Layer\r\n      </button>\r\n      {Array.from(Array(mapLayers), (el, index) => {\r\n        if (!deletedLayers.includes(index)) {\r\n          return (\r\n            <button\r\n              onClick={(evt) => onClick(evt, index + 1)}\r\n              onDoubleClick={() => {\r\n                editLayerName(index);\r\n              }}\r\n              className={\r\n                selectedLayer === index + 1\r\n                  ? \"btn btn-outline-dark active\"\r\n                  : \"btn btn-outline-dark\"\r\n              }\r\n            >\r\n              {editLayer === index ? (\r\n                <span className=\"layer-selector\" tabIndex=\"200\">\r\n                  <span className=\"layer-name\">\r\n                    <input\r\n                      ref={inputLayerName}\r\n                      onBlur={() => {\r\n                        saveLayerName(index);\r\n                      }}\r\n                      type=\"text\"\r\n                      value={editLayerInput}\r\n                      onChange={(evt) => {\r\n                        setEditLayerInput(evt.target.value);\r\n                      }}\r\n                      onKeyDown={(evt) => handleKeyDown(evt, index)}\r\n                    ></input>\r\n                  </span>\r\n                  <div className=\"layer-actions\">\r\n                    <span\r\n                      onClick={(evt) => saveLayerName(evt, index)}\r\n                      className=\"close\"\r\n                    >\r\n                      <FaCheck className=\" save-layer\" />\r\n                    </span>\r\n                  </div>\r\n                </span>\r\n              ) : (\r\n                <span className=\"layer-selector\">\r\n                  <span className=\"layer-name\">{layerNames[index]}</span>\r\n                  <div className=\"layer-actions\">\r\n                    <span\r\n                      onClick={() => editLayerName(index)}\r\n                      className=\"close\"\r\n                    >\r\n                      <FaEdit className=\" edit-layer\" />\r\n                    </span>\r\n                    <span\r\n                      onClick={(evt) => deleteLayer(evt, index)}\r\n                      className=\"close\"\r\n                    >\r\n                      <FaTrash className=\" delete-layer\" />\r\n                    </span>\r\n                  </div>\r\n                </span>\r\n              )}\r\n            </button>\r\n          );\r\n        }\r\n      })}\r\n      <AddLayer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LayerSelector;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst SelectedTileDisplay = (props) => {\r\n  var selectedTile = useSelector((state) => state.draggedElement);\r\n  if (selectedTile === \"\") {\r\n    selectedTile = process.env.PUBLIC_URL + \"/images/special/empty.png\";\r\n  }\r\n  return (\r\n    <div>\r\n      Selected Tile &nbsp;\r\n      <img style={{ border: \"2px solid black\" }} src={selectedTile} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectedTileDisplay;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst SelectBrushSize = (props) => {\r\n  const dispatch = useDispatch();\r\n  const selectedSize = useSelector((state) => state.brushSize);\r\n  const eraseMode = useSelector((state) => state.eraseMode);\r\n  const clearMode = useSelector((state) => state.clearMode);\r\n\r\n  const onClick = (evt, size) => {\r\n    dispatch({\r\n      type: Actions.SET_BRUSH_SIZE,\r\n      brushSize: size,\r\n    });\r\n  };\r\n\r\n  const eraserBrush = () => {\r\n    dispatch({\r\n      type: Actions.TOGGLE_ERASE_MODE,\r\n      eraseMode: !eraseMode,\r\n    });\r\n  };\r\n\r\n  const clearLayer = () => {\r\n    dispatch({\r\n      type: Actions.TOGGLE_CLEAR_MODE,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p>Brush Size</p>\r\n      <div className=\"brush-selector\">\r\n        {\" \"}\r\n        <button\r\n          onClick={(evt) => onClick(evt, 1)}\r\n          className={\r\n            selectedSize === 1\r\n              ? \"btn btn-outline-light active\"\r\n              : \"btn btn-outline-light \"\r\n          }\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/grid.png\"}\r\n            width=\"10px\"\r\n            height=\"10px\"\r\n          ></img>\r\n        </button>\r\n        <button\r\n          onClick={(evt) => onClick(evt, 2)}\r\n          className={\r\n            selectedSize === 2\r\n              ? \"btn btn-outline-light  active\"\r\n              : \"btn btn-outline-light \"\r\n          }\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/grid.png\"}\r\n            width=\"20px\"\r\n            height=\"20px\"\r\n          ></img>\r\n        </button>\r\n        <button\r\n          onClick={(evt) => onClick(evt, 4)}\r\n          className={\r\n            selectedSize === 4\r\n              ? \"btn btn-outline-light  active\"\r\n              : \"btn btn-outline-light\"\r\n          }\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/grid.png\"}\r\n            width=\"30px\"\r\n            height=\"30px\"\r\n          ></img>\r\n        </button>\r\n      </div>\r\n      <div className=\"aditional-brushes\">\r\n        <button\r\n          onClick={(evt) => onClick(evt, 0)}\r\n          className={\r\n            selectedSize === 0\r\n              ? \"btn btn-outline-light btn-link active\"\r\n              : \"btn btn-outline-light\"\r\n          }\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/bucket.png\"}\r\n          ></img>\r\n        </button>\r\n        <button\r\n          onClick={(evt) => onClick(evt, 0)}\r\n          className={\r\n            eraseMode\r\n              ? \"btn btn-outline-light btn-link active\"\r\n              : \"btn btn-outline-light\"\r\n          }\r\n          onClick={eraserBrush}\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/eraser.png\"}\r\n            width=\"32px\"\r\n            height=\"32px\"\r\n          ></img>\r\n        </button>\r\n      </div>\r\n      <div className=\"aditional-brushes\">\r\n        <button\r\n          onClick={(evt) => onClick(evt, 0)}\r\n          className={\r\n            clearMode ? \"btn btn-outline-dark active\" : \"btn btn-outline-dark\"\r\n          }\r\n          onClick={clearLayer}\r\n        >\r\n          Clear Layer\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectBrushSize;\r\n","import React from \"react\";\r\nimport html2canvas from \"html2canvas\";\r\nimport { useSelector } from \"react-redux\";\r\nconst PrintMap = (props) => {\r\n  const mapImages = useSelector((state) => state.mapImages);\r\n  const xMapSize = useSelector((state) => state.xMapSize);\r\n  const yMapSize = useSelector((state) => state.yMapSize);\r\n  const showGrid = useSelector((state) => state.showGrid);\r\n  const mapBase = useSelector((state) => state.mapBase);\r\n\r\n  const loadImages = (mapImages, callback) => {\r\n    var images = new Array(mapImages.length);\r\n    var loadedImages = 0;\r\n    var numImages = mapImages.length;\r\n\r\n    for (var i = 0; i < mapImages.length; i++) {\r\n      images[i] = new Image();\r\n      images[i].onload = function () {\r\n        if (++loadedImages >= numImages) {\r\n          callback(images);\r\n        }\r\n      };\r\n      images[i].src = mapImages[i];\r\n    }\r\n  };\r\n\r\n  const printMap = () => {\r\n    const canvas = document.createElement(\"CANVAS\");\r\n    canvas.width = xMapSize * mapBase;\r\n    canvas.height = yMapSize * mapBase;\r\n    const context = canvas.getContext(\"2d\");\r\n\r\n    loadImages(mapImages, function (images) {\r\n      for (var i = 0; i < mapImages.length; i++) {\r\n        context.drawImage(images[i], 0, 0);\r\n      }\r\n    });\r\n    setTimeout(function () {\r\n      if (showGrid) {\r\n        const bw = context.canvas.width;\r\n        const bh = context.canvas.height;\r\n        console.log(bw);\r\n        console.log(bh);\r\n        console.log(mapBase);\r\n\r\n        var p = 0;\r\n        console.log(p);\r\n\r\n        for (var x = 0; x <= bw; x += mapBase) {\r\n          context.moveTo(x + p, p);\r\n          context.lineTo(x + p, bh + p);\r\n        }\r\n\r\n        for (var x = 0; x <= bh; x += mapBase) {\r\n          context.moveTo(p, x + p);\r\n          context.lineTo(bw + p, x + p);\r\n        }\r\n\r\n        context.strokeStyle = \"black\";\r\n        context.stroke();\r\n      }\r\n\r\n      const canvasUrl = canvas.toDataURL();\r\n      console.log(canvasUrl);\r\n      window.open().document.write('<img src=\"' + canvasUrl + '\" />');\r\n    }, 200);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button className=\"btn btn-light\" onClick={printMap}>\r\n        Print Map!\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrintMap;\r\n","import React from \"react\";\r\nimport Actions from \"../Actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst ToggleGrid = (props) => {\r\n  const dispatch = useDispatch();\r\n  const showGrid = useSelector((state) => state.showGrid);\r\n\r\n  const handleInputChange = () => {\r\n    dispatch({\r\n      type: Actions.TOGGLE_GRID,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"toggle-grid\">\r\n      <label>\r\n        <span>Show Grid</span>\r\n        <input\r\n          name=\"showGrid\"\r\n          type=\"checkbox\"\r\n          checked={showGrid}\r\n          onChange={() => handleInputChange()}\r\n        />\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToggleGrid;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst SaveLoadMap = (props) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n  const saveFile = {\r\n    mapImages: state.mapImages,\r\n    mapLayers: state.mapLayers,\r\n    mapBase: state.mapBase,\r\n    xMapSize: state.xMapSize,\r\n    yMapSize: state.yMapSize,\r\n    deletedLayers: state.deletedLayers,\r\n    layerNames: state.layerNames,\r\n  };\r\n  const onClickSave = () => {\r\n    var file = new Blob([JSON.stringify(state)], {\r\n      type: \"text/plain;charset=utf-8\",\r\n    });\r\n    var element = document.createElement(\"a\");\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = \"map.tilp\";\r\n    document.body.appendChild(element); // Required for this to work in FireFox\r\n    element.click();\r\n  };\r\n\r\n  async function onChangeHandler(event) {\r\n    const file = event.target.files[0];\r\n    event.target.value = null;\r\n    var loadFile = [];\r\n    try {\r\n      loadFile = JSON.parse(await file.text());\r\n      dispatch({\r\n        type: Actions.CREATE_MAP,\r\n        xSize: 16,\r\n        YSize: 10,\r\n        mapBase: 32,\r\n      });\r\n      dispatch({\r\n        type: Actions.START_LOAD,\r\n        loadFile: loadFile,\r\n      });\r\n    } catch (e) {\r\n      alert(\"The file did not have the correct format\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"save-load-map-buttons\">\r\n      <button onClick={() => onClickSave()} className=\"btn btn-light\">\r\n        Save Map\r\n      </button>\r\n      <label class=\"upload-map\">\r\n        <input\r\n          id=\"loadMap\"\r\n          type=\"file\"\r\n          name=\"file\"\r\n          onChange={(evt) => onChangeHandler(evt)}\r\n          accept=\".tilp\"\r\n        />\r\n        <span>Load Map</span>\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaveLoadMap;\r\n","import React, { useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport NewMapForm from \"./components/NewMapForm\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Actions from \"./Actions\";\n\nimport AwesomeMap from \"./components/Map\";\nimport TilesGallery from \"./components/TilesGallery\";\nimport LayerSelector from \"./components/LayerSelector\";\nimport SelectedTileDisplay from \"./components/SelectedTileDisplay\";\nimport SelectBrushSize from \"./components/SelectBrushSize.js\";\nimport PrintMap from \"./components/PrintMap\";\nimport ToggleGrid from \"./components/ToggleGrid\";\nimport SaveLoadMap from \"./components/SaveLoadMap\";\nvar tileTypes = [];\n\nconst importAll = (r) => {\n  return r.keys();\n};\n\ntileTypes = importAll(require.context(\"../public/images/\", true));\nconsole.log(require.context(\"../public/images/\", false));\nconsole.log(tileTypes);\nfunction App() {\n  const dispatch = useDispatch();\n\n  const handleKeyDown = (evt) => {\n    if (evt.altKey) {\n      if (evt.keyCode === 49) {\n        dispatch({\n          type: Actions.SET_BRUSH_SIZE,\n          brushSize: 1,\n        });\n      }\n      if (evt.keyCode === 50) {\n        dispatch({\n          type: Actions.SET_BRUSH_SIZE,\n          brushSize: 2,\n        });\n      }\n      if (evt.keyCode === 51) {\n        dispatch({\n          type: Actions.SET_BRUSH_SIZE,\n          brushSize: 4,\n        });\n      }\n      if (evt.ctrlKey) {\n        dispatch({\n          type: Actions.SET_BRUSH_SIZE,\n          brushSize: 0,\n        });\n      }\n    }\n    if (evt.key === \"Shift\") {\n      dispatch({\n        type: Actions.TOGGLE_ERASE_MODE,\n        eraseMode: true,\n      });\n    }\n  };\n\n  const handleKeyUp = (evt) => {\n    if (evt.key === \"Shift\") {\n      dispatch({\n        type: Actions.TOGGLE_ERASE_MODE,\n        eraseMode: false,\n      });\n    }\n  };\n\n  return (\n    <div\n      tabIndex=\"2000\"\n      onKeyDown={(evt) => handleKeyDown(evt)}\n      onKeyUp={(evt) => handleKeyUp(evt)}\n    >\n      <header></header>\n      <body className=\"App-body\">\n        <div className=\"App-controls\">\n          <div className=\"App-left-controls\">\n            <SelectBrushSize />\n            <ToggleGrid />\n          </div>\n          <div className=\"App-map\">\n            <LayerSelector />\n            <AwesomeMap />\n            <SelectedTileDisplay />\n            <TilesGallery />\n          </div>\n          <div className=\"App-right-controls\">\n            <SaveLoadMap />\n            <PrintMap />\n            <NewMapForm />\n          </div>\n        </div>\n      </body>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import ActionTypes from \"../Actions\";\r\nconst initialState = {\r\n  draggedElement: \"\",\r\n  mapLayers: 0,\r\n  selectedLayer: 0,\r\n  brushSize: 1,\r\n  xMapSize: 10,\r\n  yMapSize: 10,\r\n  showGrid: false,\r\n  eraseMode: false,\r\n  mapBase: 32,\r\n  clearMode: false,\r\n  mapImages: [[]],\r\n  isLoadingMap: false,\r\n  layersLoaded: -1,\r\n  undoStack: [],\r\n  deletedLayers: [],\r\n  layerNames: [],\r\n};\r\nexport default function mapReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ActionTypes.CREATE_MAP:\r\n      const xSize = action.xSize;\r\n      const ySize = action.ySize;\r\n      const newMapBase = action.mapBase;\r\n      var newLayers = 0;\r\n      return {\r\n        ...state,\r\n        mapLayers: newLayers,\r\n        xMapSize: xSize,\r\n        yMapSize: ySize,\r\n        selectedLayer: 0,\r\n        mapBase: Number(newMapBase),\r\n        showGrid: false,\r\n        mapImages: [],\r\n        isLoadingMap: false,\r\n        undoStack: [],\r\n        deletedLayers: [],\r\n        layerNames: [],\r\n      };\r\n    case ActionTypes.CHANGE_DRAGGED_ELEMENT:\r\n      return { ...state, draggedElement: action.draggedElement };\r\n    case ActionTypes.SELECT_LAYER:\r\n      var newSelectedLayer = action.selectedLayer;\r\n      const deletedLayers = state.deletedLayers;\r\n      if (deletedLayers.includes(newSelectedLayer - 1)) {\r\n        newSelectedLayer = state.selectedLayer;\r\n      }\r\n      return { ...state, selectedLayer: newSelectedLayer, undoStack: [] };\r\n    case ActionTypes.DELETE_LAYER:\r\n      const deletedLayer = action.deletedLayer;\r\n      var newDeletedLayers = [...state.deletedLayers];\r\n      var newSelectedLayer = state.selectedLayer;\r\n      if (newSelectedLayer === deletedLayer + 1) {\r\n        newSelectedLayer = newSelectedLayer - 1;\r\n      }\r\n      newDeletedLayers.push(deletedLayer);\r\n      return {\r\n        ...state,\r\n        selectedLayer: newSelectedLayer,\r\n        deletedLayers: newDeletedLayers,\r\n      };\r\n    case ActionTypes.SET_BRUSH_SIZE:\r\n      return { ...state, brushSize: action.brushSize };\r\n    case ActionTypes.ADD_LAYER:\r\n      var newMapLayers = state.mapLayers + 1;\r\n      var newMapImages = [...state.mapImages];\r\n      newMapImages.push(\"\");\r\n      var newLayerNames = [...state.layerNames];\r\n      newLayerNames.push(\"New Layer\");\r\n      return {\r\n        ...state,\r\n        mapLayers: newMapLayers,\r\n        mapImages: newMapImages,\r\n        layerNames: newLayerNames,\r\n      };\r\n    case ActionTypes.CHANGE_LAYER_NAMES:\r\n      return {\r\n        ...state,\r\n        layerNames: action.layerNames,\r\n      };\r\n    case ActionTypes.TOGGLE_GRID:\r\n      return { ...state, showGrid: !state.showGrid };\r\n    case ActionTypes.TOGGLE_ERASE_MODE:\r\n      return {\r\n        ...state,\r\n        eraseMode: action.eraseMode,\r\n      };\r\n    case ActionTypes.TOGGLE_CLEAR_MODE:\r\n      return {\r\n        ...state,\r\n        clearMode: !state.clearMode,\r\n      };\r\n    case ActionTypes.UPDATE_MAP_IMAGES:\r\n      return {\r\n        ...state,\r\n        mapImages: action.mapImages,\r\n      };\r\n    case ActionTypes.START_LOAD:\r\n      const loadFile = action.loadFile;\r\n      return {\r\n        ...state,\r\n        mapImages: loadFile.mapImages,\r\n        mapLayers: loadFile.mapLayers,\r\n        selectedLayer: 0,\r\n        isLoadingMap: true,\r\n        mapBase: loadFile.mapBase,\r\n        xMapSize: loadFile.xMapSize,\r\n        yMapSize: loadFile.yMapSize,\r\n        deletedLayers: loadFile.deletedLayers,\r\n        layerNames: loadFile.layerNames,\r\n      };\r\n    case ActionTypes.FINISH_LOAD:\r\n      var layersLoaded = state.layersLoaded;\r\n      layersLoaded++;\r\n      if (layersLoaded > state.mapLayers) {\r\n        return { ...state, isLoadingMap: false, layersLoaded: -1 };\r\n      } else {\r\n        return { ...state, layersLoaded: layersLoaded };\r\n      }\r\n    case ActionTypes.SET_UNDO_STACK:\r\n      return { ...state, undoStack: action.undoStack };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport mapReducer from \"./reducers/mapReducer\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst store = createStore(mapReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}