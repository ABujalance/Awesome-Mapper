{"version":3,"sources":["logo.svg","../public/images sync /^/.*$","../public/images/special/bucket.png","../public/images/special/empty.png","../public/images/special/eraser.png","../public/images/special/grid.png","../public/images/special/transparent.png","../public/images sync nonrecursive /^/.*$","Actions/index.js","components/NewMapForm.js","components/MapLayer.js","components/MapGrid.js","components/Map.js","components/TilesGallery.js","components/AddLayer.js","components/LayerSelector.js","components/SelectedTileDisplay.js","components/SelectBrushSize.js","components/PrintMap.js","components/ToggleGrid.js","components/SaveLoadMap.js","App.js","utilities/TileLibraryUtilities.js","serviceWorker.js","reducers/mapReducer.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","webpackEmptyContext","CREATE_MAP","CHANGE_DRAGGED_ELEMENT","PLACE_TILE","SELECT_LAYER","SET_BRUSH_SIZE","ADD_LAYER","TOGGLE_GRID","LOAD_MAP","TOGGLE_ERASE_MODE","NewMapForm","props","dispatch","useDispatch","xMapSize","useSelector","state","yMapSize","useState","xTiles","setxTiles","yTiles","setyTiles","onSubmit","preventDefault","type","Actions","xSize","ySize","value","onChange","target","name","min","MapLayer","brushSize","draggedElement","eraseMode","selectedLayer","mouseDown","setMouseDown","currentX","setCurrentX","currentY","setCurrentY","canvasRef","useRef","roundNumber","coordinate","simpleBaseCoordinate","Math","floor","addTile","evt","canvas","current","ctx","getContext","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","imageToPrint","Image","src","onload","pattern","createPattern","fillStyle","fillRect","width","height","i","j","clearRect","drawImage","removeTile","layer","className","onMouseDown","onMouseUp","onMouseLeave","onMouseMove","onKeyDown","key","handleKeyDown","onKeyUp","handleKeyUp","ref","tabIndex","MapGrid","awesomeMap","showGrid","useEffect","context","bw","bh","moveTo","lineTo","strokeStyle","stroke","console","log","style","display","AwesomeMap","mapLayers","Array","from","el","index","TilesGallery","customTiles","setCustomTiles","event","a","newCustomCollection","folderName","Number","length","tiles","newCustomImages","files","file","objectURL","URL","createObjectURL","push","customTileCollection","onChangeHandler","accept","multiple","tileName","onClick","AddLayer","LayerSelector","SelectedTileDisplay","selectedTile","border","SelectBrushSize","selectedSize","size","PrintMap","html2canvas","document","querySelector","then","window","open","write","toDataURL","ToggleGrid","checked","SaveLoadMap","newState","JSON","text","parse","alert","Blob","stringify","element","createElement","href","download","body","appendChild","click","onClickSave","class","tileTypes","images","structure","folder","split","find","content","folderImageStructure","require","App","Boolean","location","hostname","match","initialState","store","createStore","action","ActionTypes","newLayers","newMapLayers","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.aa6a6289.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","var map = {\n\t\"./special/bucket.png\": 36,\n\t\"./special/empty.png\": 37,\n\t\"./special/eraser.png\": 38,\n\t\"./special/grid.png\": 39,\n\t\"./special/transparent.png\": 40\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 35;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAADVElEQVRYhbXXXYhVVRQH8N/chpqihyEkIiIKomSIiBALCtllYJCISWA9CNoXmPXSB+JDsECCHioLMipJYlKstDEKwoLi0AeJUehDZSEGPVhEyBBiJpehh7Nvnrmee+eemXHBZZ+91977/79r7/WxhwwgETGKh7AMV+EEDuDliPhxkD16ydAA4HdgFy6tUZ/Gpoh4cbYEzpsBfBE+xWgeOoh9+A1X43wsSyn9UxTF17Mh0NMCETGMQxjDKayJiD0V/UJ8hGvQxu0R8VVTAq0+uhUZHDZWwTOBw8o7MYlhbI2Ifvs1JrA6t3/gtboJEXEUz+TuDVjZlMBwH92Nuf08Ik5nwCV4FiPYHBEf4g1swuVYj4kmBPpZ4OLc/pzBV+AT3IZF2BsRazO58Tw3RcSCJgR6ekFK6S/8i+dSSkvxHi6oTBnC8pTSLvyKR/If+q4oih8GJdDTAhExHhH34xa8q3S5bhnGTfgef+exmwcF70sgk7hXGYTqwDsyGhFTOJz71zYh0PMSZvCdM4BThmU4ltvL8volyvsykV12cAINwCmjI5zM7Uhuv8Dd+Cki9mML9mRr/S9nHUFErGoA/molGb2NKYxFxAMRARvxvDP36JuIGKtuMI1ABp/pzKvSCUIiYh/25z23ZReFp9FJVovxbXbp6QQiYmVDcM7Eiu5+C29WSDyJl7LuIuzOWbZMRhGxHO83BKfMjGuULviUMkpWZQrrskvDVjyadcdw3VBE3IW9zlyeptLOv17r21gdERM5We3EfVn3eAvb5gBO6Un91g/jBcge8HpFd08Lx+cAPqicqHwvrXwvbGH3OQZvK91RRFyJJyq6kRZece6s0FZWUh/n/halF3Sk1YqISaWvzrd0POAdiIjFWNU9qRMHtuODeQZ/MCJ2VMbW101sZXawDr/MI/hbXeN31s2tRsJJZfL4c47gD3eDR8SIsmTrTSBPPKKsdGdzKTvg23vopmrGa7PhQaWvNrFEx+x14HLdeKBG1a6tiDKJWw12J3qdebdsdrYVTvYsSouiOJ5S2oHr9S6zBgVXFMWRlFLb9Ej4Wd+3YVEUp3LV+7vSIhdW1G2sjYjx2sX1+32ZUjqEK3AUG2Z8HXckIi7BY8oX0wJs6H6uzUb+A8LWJA06nE0EAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAXElEQVRYhe3W0QnAIAyE4VPcphu4v05g50k3OB+kteCf1yPwQUhIGq2FTF21ulh37zaf9WebflAAAABIEWHvwOqez/oZAQAA2wHl7T3nHwAA4PcA/gEAAA4HSHoAXBMf9o6ofKQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEl0lEQVR4nNWbW4geNRiGn9YDIrLUUqWIKEiFRaSIeCyCKXUvhIqgKChYvNN78cSivtVa9UbwwgsFUVCqSL3wuJa6GBDxQFEQkUVqXZdlLSoKIhWsbr2YGRjW/MlMJpkZ38t8X/Llff8k8+dLso6RQtJW4DZgG7AZWAWOAAeBVyT9kiLOuhSNpISk04AXgNs9bseAp4A9kla7xBuVAJKmgDcB07DK68Adkv6KjTkaASRtAOaAq1pWfQu4JVaEUQggaSNwALgssol3gJtjRBhcAEmbKBa2Szo2FTUSBhWgJD8PbE3UZOuRMJgAks6mIH9x4qZbibA+cfBGkLSZPOQBdgJvlJ/TIHoXIDP5CjuBV5s4npSxE/9BjfxFPYSbNsZ8Yq39zufU2wgoyX9IP+Qr3BNy6GURrJGf7iNeDavA+ZKWJzlkHwEDkoeC300hh2wYmHyFG3zGbAKMhDzAFp8xiwAjIh9EcgEkncP/hDwkFqAkP8+4yHsTJskECJBfShUnNZIIECD/IPBaijiR+Ntn7CxAiLykJwkMwyHRSYCG5IdGnhFQfuoO4iY/u4a8txOZkX4RDOzqZiXtjWk3E9IKUMvktCE/5BqQbgpEkh8a3tRYYwFq2VtXJuehAPl/msbJgO4ClIcWB3Bnbx+VtCfQxJBT4A+fMSiApNOBt4FLHea9kh6J7Fhf+NpnbDICngGucZQ/LWk2qkv9YRV40efgFUDSFuBOh+kl4N7YXvWI5yUt+BxCI+BW4OQ1ZZ8Dd7U8lh5iDVgA7g85hQS40FH2WJfj6J6wBFwv6feQY0iADY6yQ1Fd6g/LwA5Ji02cQwK4jpeOte0RsBhRJwbLwHZJh5tWCAmwdv5DxMZG0j6KvEBOrFD88o3JQ1gAlz1qZ1fuDnOJUJH/tm3FGAGikUmEirz3czcJMQQ77e0Ti9CJPAx3PyCFCJ3Jw0ACQGcRjpKAPMQJ4PoyRCFShGTkYcARUKGlCBX5b1LFjxEgx3FaExFWKP7kJCMPIxGgxD5g0gXoJAueC4NPAQBJ51LkGjc5zNnIwwhGQO18wXWOn5U8hMlk3cfXssyuw5Xs5GFAAWrXZF0p9mpXl5U8hAVwJT5SHKhuZHKKvdrPt97YxCBExrX3n+oSsJZid90O75U8hAX4yVH2eGwwFS9CJr0L6J08hAX4zFG2S9LutoFK8nPAFQ5zNed7JQ9hAfbjHgUPS7qvaRBJZ1AcrmxzmJdomcZKCe9laWvtcWPMr8CNDvOMMeZPa+3HvjZq5K91mCvy3gvNORG8LW6t/dIYMwVc7TDPGGOOW2s/ctUtyb+Lm/wiYCR936K/ydHourwx5gPgLOByh3mHMeZUY4y11p6oCss/Oe/jHvZHKMj/ENHnpGh8W1zSeuBZ4O4JLu8Bz1GsGdPAbuA8h99hitV+FFfnWl2XbyBCCAsU5Fci6ydHqxcj1toTxpg54EzgypaxvgKuk/Rjy3pZEf1gQtITwAMN3Q9RnNUlefCcEtFvhqy188aYn4HtwCke1/0Uz9h+i42VE52fzJSr/S5gBriAIml6FPgUeFnSF11j5MS/NXiavvEZUikAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAARUlEQVRYhe3XIRIAMAwCQej0/19OpxFV1cEcJnGsxZJK4SQBtd9Xsw7bfddo6ycAAAAAAAAAAAAAAAAAAOAmOk6z81zSAfMHCTfIbbnvAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAG0lEQVRYhe3BAQEAAAjDoNm/tEEOBAAAAGyrexAhAAJC6HS9AAAAAElFTkSuQmCC\"","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 41;","const CounterTypes = {\r\n  CREATE_MAP: \"CREATE_MAP\",\r\n  CHANGE_DRAGGED_ELEMENT: \"CHANGE_DRAGGED_ELEMENT\",\r\n  PLACE_TILE: \"PLACE_TILE\",\r\n  SELECT_LAYER: \"SELECT_LAYER\",\r\n  SET_BRUSH_SIZE: \"SET_BRUSH_SIZE\",\r\n  ADD_LAYER: \"ADD_LAYER\",\r\n  TOGGLE_GRID: \"TOGGLE_GRID\",\r\n  LOAD_MAP: \"LOAD_MAP\",\r\n  TOGGLE_ERASE_MODE: \"TOGGLE_ERASE_MODE\",\r\n};\r\nexport default {\r\n  ...CounterTypes,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst NewMapForm = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const xMapSize = useSelector((state) => state.xMapSize);\r\n  const yMapSize = useSelector((state) => state.yMapSize);\r\n  const [xTiles, setxTiles] = useState(xMapSize);\r\n  const [yTiles, setyTiles] = useState(yMapSize);\r\n\r\n  const handleNewMapSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    dispatch({ type: Actions.CREATE_MAP, xSize: xTiles, ySize: yTiles });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleNewMapSubmit}>\r\n        <label>X nº of tiles: </label>\r\n        <input\r\n          value={xTiles}\r\n          onChange={(e) => setxTiles(e.target.value)}\r\n          type=\"number\"\r\n          name=\"xTiles\"\r\n          min=\"1\"\r\n        />\r\n        <br />\r\n        <label>Y nº of tiles: </label>\r\n        <input\r\n          value={yTiles}\r\n          onChange={(e) => setyTiles(e.target.value)}\r\n          type=\"number\"\r\n          name=\"yTiles\"\r\n          min=\"1\"\r\n        />\r\n        <br />\r\n        <button type=\"submit\">Generate new Map!</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewMapForm;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst MapLayer = (props) => {\r\n  const dispatch = useDispatch();\r\n  const brushSize = useSelector((state) => state.brushSize);\r\n  const xMapSize = useSelector((state) => state.xMapSize);\r\n  const yMapSize = useSelector((state) => state.yMapSize);\r\n  const draggedElement = useSelector((state) => state.draggedElement);\r\n  const eraseMode = useSelector((state) => state.eraseMode);\r\n  const selectedLayer = useSelector((state) => state.selectedLayer);\r\n\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n  const [currentX, setCurrentX] = useState(null);\r\n  const [currentY, setCurrentY] = useState(null);\r\n\r\n  const canvasRef = useRef(null);\r\n\r\n  const onMouseDown = (evt) => {\r\n    setMouseDown(true);\r\n    if (eraseMode) {\r\n      removeTile(evt);\r\n    } else {\r\n      addTile(evt);\r\n    }\r\n  };\r\n\r\n  const onMouseLeave = () => {\r\n    setMouseDown(false);\r\n  };\r\n\r\n  const onMouseMove = (evt) => {\r\n    if (mouseDown) {\r\n      if (eraseMode) {\r\n        removeTile(evt);\r\n      } else {\r\n        addTile(evt);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onMouseUp = () => {\r\n    setMouseDown(false);\r\n  };\r\n\r\n  const handleKeyDown = (evt) => {\r\n    if (evt.key === \"Shift\") {\r\n      dispatch({\r\n        type: Actions.TOGGLE_ERASE_MODE,\r\n        eraseMode: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleKeyUp = (evt) => {\r\n    if (evt.key === \"Shift\") {\r\n      dispatch({\r\n        type: Actions.TOGGLE_ERASE_MODE,\r\n        eraseMode: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  const roundNumber = (coordinate) => {\r\n    const simpleBaseCoordinate = coordinate / 32;\r\n    const floorSimpleBaseCoordinate = Math.floor(simpleBaseCoordinate);\r\n    return floorSimpleBaseCoordinate * 32;\r\n  };\r\n\r\n  const addTile = (evt) => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = roundNumber(evt.clientX - rect.left);\r\n    const y = roundNumber(evt.clientY - rect.top);\r\n    if (x != currentX || y != currentY) {\r\n      var imageToPrint = new Image();\r\n      imageToPrint.src = draggedElement;\r\n      imageToPrint.onload = () => {\r\n        if (brushSize === 0) {\r\n          var pattern = ctx.createPattern(imageToPrint, \"repeat\");\r\n          ctx.fillStyle = pattern;\r\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        } else {\r\n          for (var i = 0; i < brushSize; i++) {\r\n            for (var j = 0; j < brushSize; j++) {\r\n              ctx.clearRect(x + i * 32, y + j * 32, 32, 32);\r\n              ctx.drawImage(imageToPrint, x + i * 32, y + j * 32);\r\n            }\r\n          }\r\n        }\r\n      };\r\n      setCurrentX(x);\r\n      setCurrentY(y);\r\n    }\r\n  };\r\n\r\n  const removeTile = (evt) => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = roundNumber(evt.clientX - rect.left);\r\n    const y = roundNumber(evt.clientY - rect.top);\r\n    if (x != currentX || y != currentY) {\r\n      for (var i = 0; i < brushSize; i++) {\r\n        for (var j = 0; j < brushSize; j++) {\r\n          ctx.clearRect(x + i * 32, y + j * 32, 32, 32);\r\n        }\r\n      }\r\n      setCurrentX(x);\r\n      setCurrentY(y);\r\n    }\r\n  };\r\n  if (selectedLayer >= props.layer) {\r\n    return (\r\n      <canvas\r\n        className=\"map-canvas\"\r\n        onMouseDown={(evt) => onMouseDown(evt)}\r\n        onMouseUp={() => onMouseUp()}\r\n        onMouseLeave={() => onMouseLeave()}\r\n        onMouseMove={(evt) => onMouseMove(evt)}\r\n        onKeyDown={(evt) => handleKeyDown(evt)}\r\n        onKeyUp={(evt) => handleKeyUp(evt)}\r\n        ref={canvasRef}\r\n        tabIndex=\"1000\"\r\n        id=\"myCanvas\"\r\n        width={xMapSize * 32}\r\n        height={yMapSize * 32}\r\n      />\r\n    );\r\n  } else {\r\n    return <div></div>;\r\n  }\r\n};\r\n\r\nexport default MapLayer;\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst MapGrid = (props) => {\r\n  const map = useSelector((state) => state.awesomeMap);\r\n  const xMapSize = useSelector((state) => state.xMapSize);\r\n  const yMapSize = useSelector((state) => state.yMapSize);\r\n  const showGrid = useSelector((state) => state.showGrid);\r\n\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n    const bw = context.canvas.width;\r\n    const bh = context.canvas.height;\r\n    var p = 0;\r\n    var cw = 0;\r\n    var ch = 0;\r\n\r\n    for (var x = 0; x <= bw; x += 32) {\r\n      context.moveTo(0 + x + p, p);\r\n      context.lineTo(0 + x + p, bh + p);\r\n    }\r\n\r\n    for (var x = 0; x <= bh; x += 32) {\r\n      context.moveTo(p, 0 + x + p);\r\n      context.lineTo(bw + p, 0 + x + p);\r\n    }\r\n\r\n    context.strokeStyle = \"black\";\r\n    context.stroke();\r\n  }, []);\r\n\r\n  console.log(showGrid);\r\n\r\n  return (\r\n    <canvas\r\n      className=\"map-canvas grid\"\r\n      ref={canvasRef}\r\n      tabIndex=\"1000\"\r\n      id=\"gridCanvas\"\r\n      width={xMapSize * 32}\r\n      height={yMapSize * 32}\r\n      style={!showGrid ? { display: \"none\" } : {}}\r\n    />\r\n  );\r\n};\r\n\r\nexport default MapGrid;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Layer from \"./MapLayer\";\r\nimport MapGrid from \"./MapGrid\";\r\n\r\nconst AwesomeMap = (props) => {\r\n  const mapLayers = useSelector((state) => state.mapLayers);\r\n  return (\r\n    <div className=\"map-canvas-container\">\r\n      <Layer layer={0} />\r\n      {Array.from(Array(mapLayers), (el, index) => {\r\n        return <Layer layer={index} />;\r\n      })}\r\n      <MapGrid />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AwesomeMap;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\nimport { Collapse, Button, CardBody, Card } from \"reactstrap\";\r\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\r\nimport \"react-tabs/style/react-tabs.css\";\r\n\r\nconst TilesGallery = (props) => {\r\n  const dispatch = useDispatch();\r\n  const [openFolder, setOpenFolder] = useState(\"\");\r\n  const [customTiles, setCustomTiles] = useState([]);\r\n  const toggle = (folder) => {\r\n    if (openFolder === folder) {\r\n      setOpenFolder(\"\");\r\n    } else {\r\n      setOpenFolder(folder);\r\n    }\r\n  };\r\n\r\n  const onClick = (event, tileName) => {\r\n    event.preventDefault();\r\n    dispatch({\r\n      type: Actions.CHANGE_DRAGGED_ELEMENT,\r\n      draggedElement: tileName,\r\n    });\r\n  };\r\n\r\n  async function onChangeHandler(event) {\r\n    var newCustomCollection = {\r\n      folderName: \"Custom collection \" + Number(customTiles.length + 1),\r\n      tiles: [],\r\n    };\r\n    var newCustomImages = [];\r\n    const files = event.target.files;\r\n    for (var i = 0; i < files.length; i++) {\r\n      const file = event.target.files[i];\r\n      var objectURL = URL.createObjectURL(file);\r\n      newCustomImages.push(objectURL);\r\n    }\r\n    newCustomCollection.tiles = newCustomImages;\r\n    console.log(newCustomCollection);\r\n    setCustomTiles([...customTiles, newCustomCollection]);\r\n    event.target.value = null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"tiles-selector\">\r\n      <h2>Tile Selector</h2>\r\n      <Tabs>\r\n        <TabList>\r\n          {customTiles.map((customTileCollection) => {\r\n            return <Tab>{customTileCollection.folderName}</Tab>;\r\n          })}\r\n          <Tab>\r\n            <input\r\n              id=\"loadMap\"\r\n              type=\"file\"\r\n              name=\"file\"\r\n              onChange={(evt) => onChangeHandler(evt)}\r\n              accept=\".png\"\r\n              multiple\r\n            />\r\n          </Tab>\r\n        </TabList>\r\n        {customTiles.map((customTileCollection) => {\r\n          return (\r\n            <TabPanel className=\"tiles-gallery\">\r\n              {customTileCollection.tiles.map((tileName) => {\r\n                return (\r\n                  <div\r\n                    className=\"drag-tile\"\r\n                    onClick={(event) => onClick(event, tileName)}\r\n                  >\r\n                    <img src={tileName}></img>\r\n                  </div>\r\n                );\r\n              })}\r\n            </TabPanel>\r\n          );\r\n        })}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TilesGallery;\r\n","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst AddLayer = (props) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onClick = (evt) => {\r\n    dispatch({\r\n      type: Actions.ADD_LAYER,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <button onClick={(evt) => onClick(evt)} className=\"btn btn-dark\">\r\n      +\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default AddLayer;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\nimport AddLayer from \"./AddLayer\";\r\n\r\nconst LayerSelector = (props) => {\r\n  const dispatch = useDispatch();\r\n  const selectedLayer = useSelector((state) => state.selectedLayer);\r\n  const mapLayers = useSelector((state) => state.mapLayers);\r\n\r\n  const onClick = (evt, selectedLayer) => {\r\n    dispatch({\r\n      type: Actions.SELECT_LAYER,\r\n      selectedLayer: selectedLayer,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={(evt) => onClick(evt)}\r\n        className={\r\n          !selectedLayer && selectedLayer != 0\r\n            ? \"btn btn-outline-dark active\"\r\n            : \"btn btn-outline-dark\"\r\n        }\r\n      >\r\n        Base Layer\r\n      </button>\r\n      {Array.from(Array(mapLayers), (el, index) => {\r\n        return (\r\n          <button\r\n            onClick={(evt) => onClick(evt, index)}\r\n            className={\r\n              selectedLayer === index\r\n                ? \"btn btn-outline-dark active\"\r\n                : \"btn btn-outline-dark\"\r\n            }\r\n          >\r\n            Layer {index + 1}\r\n          </button>\r\n        );\r\n      })}\r\n      <AddLayer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LayerSelector;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst SelectedTileDisplay = (props) => {\r\n  var selectedTile = useSelector((state) => state.draggedElement);\r\n  if (selectedTile === \"\") {\r\n    selectedTile = process.env.PUBLIC_URL + \"/images/special/empty.png\";\r\n  }\r\n  return (\r\n    <div>\r\n      Selected Tile &nbsp;\r\n      <img\r\n        style={{ border: \"2px solid black\" }}\r\n        className=\"tile-32\"\r\n        src={selectedTile}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectedTileDisplay;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst SelectBrushSize = (props) => {\r\n  const dispatch = useDispatch();\r\n  const selectedSize = useSelector((state) => state.brushSize);\r\n  const selectedTile = useSelector((state) => state.draggedElement);\r\n  const eraseMode = useSelector((state) => state.eraseMode);\r\n\r\n  const onClick = (evt, size) => {\r\n    dispatch({\r\n      type: Actions.SET_BRUSH_SIZE,\r\n      brushSize: size,\r\n    });\r\n  };\r\n\r\n  const eraserBrush = () => {\r\n    dispatch({\r\n      type: Actions.TOGGLE_ERASE_MODE,\r\n      eraseMode: !eraseMode,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p>Brush Size</p>\r\n      <div className=\"brush-selector\">\r\n        {\" \"}\r\n        <button\r\n          onClick={(evt) => onClick(evt, 1)}\r\n          className={\r\n            selectedSize === 1\r\n              ? \"btn btn-outline-light active\"\r\n              : \"btn btn-outline-light \"\r\n          }\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/grid.png\"}\r\n            width=\"10px\"\r\n            height=\"10px\"\r\n          ></img>\r\n        </button>\r\n        <button\r\n          onClick={(evt) => onClick(evt, 2)}\r\n          className={\r\n            selectedSize === 2\r\n              ? \"btn btn-outline-light  active\"\r\n              : \"btn btn-outline-light \"\r\n          }\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/grid.png\"}\r\n            width=\"20px\"\r\n            height=\"20px\"\r\n          ></img>\r\n        </button>\r\n        <button\r\n          onClick={(evt) => onClick(evt, 4)}\r\n          className={\r\n            selectedSize === 4\r\n              ? \"btn btn-outline-light  active\"\r\n              : \"btn btn-outline-light\"\r\n          }\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/grid.png\"}\r\n            width=\"30px\"\r\n            height=\"30px\"\r\n          ></img>\r\n        </button>\r\n      </div>\r\n      <div className=\"aditional-brushes\">\r\n        <button\r\n          onClick={(evt) => onClick(evt, 0)}\r\n          className={\r\n            selectedSize === 0\r\n              ? \"btn btn-outline-light btn-link active\"\r\n              : \"btn btn-outline-light\"\r\n          }\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/bucket.png\"}\r\n          ></img>\r\n        </button>\r\n        <button\r\n          onClick={(evt) => onClick(evt, 0)}\r\n          className={\r\n            eraseMode\r\n              ? \"btn btn-outline-light btn-link active\"\r\n              : \"btn btn-outline-light\"\r\n          }\r\n          onClick={eraserBrush}\r\n        >\r\n          <img\r\n            src={process.env.PUBLIC_URL + \"/images/special/eraser.png\"}\r\n            width=\"32px\"\r\n            height=\"32px\"\r\n          ></img>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectBrushSize;\r\n","import React from \"react\";\r\nimport html2canvas from \"html2canvas\";\r\nconst PrintMap = (props) => {\r\n  return (\r\n    <div>\r\n      <button\r\n        className=\"btn btn-light\"\r\n        onClick={() =>\r\n          html2canvas(document.querySelector(\"#capture\")).then((canvas) => {\r\n            window\r\n              .open()\r\n              .document.write('<img src=\"' + canvas.toDataURL() + '\" />');\r\n          })\r\n        }\r\n      >\r\n        Print Map!\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrintMap;\r\n","import React from \"react\";\r\nimport Actions from \"../Actions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst ToggleGrid = (props) => {\r\n  const dispatch = useDispatch();\r\n  const showGrid = useSelector((state) => state.showGrid);\r\n\r\n  const handleInputChange = () => {\r\n    dispatch({\r\n      type: Actions.TOGGLE_GRID,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"toggle-grid\">\r\n      <label>\r\n        <span>Show Grid</span>\r\n        <input\r\n          name=\"showGrid\"\r\n          type=\"checkbox\"\r\n          checked={showGrid}\r\n          onChange={() => handleInputChange()}\r\n        />\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToggleGrid;\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Actions from \"../Actions\";\r\n\r\nconst SaveLoadMap = (props) => {\r\n  const dispatch = useDispatch();\r\n  const state = useSelector((state) => state);\r\n  const onClickSave = () => {\r\n    var file = new Blob([JSON.stringify(state)], {\r\n      type: \"text/plain;charset=utf-8\",\r\n    });\r\n    var element = document.createElement(\"a\");\r\n    element.href = URL.createObjectURL(file);\r\n    element.download = \"myFile.txt\";\r\n    document.body.appendChild(element); // Required for this to work in FireFox\r\n    element.click();\r\n  };\r\n\r\n  async function onChangeHandler(event) {\r\n    const file = event.target.files[0];\r\n    event.target.value = null;\r\n    var newState = [];\r\n    try {\r\n      newState = JSON.parse(await file.text());\r\n      console.log(newState.awesomeMap);\r\n      dispatch({\r\n        type: Actions.LOAD_MAP,\r\n        newState: newState,\r\n      });\r\n    } catch (e) {\r\n      alert(\"The file did not have the correct format\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"save-load-map-buttons\">\r\n      <button onClick={() => onClickSave()} className=\"btn btn-light\">\r\n        Save Map\r\n      </button>\r\n      <label class=\"upload-map\">\r\n        <input\r\n          id=\"loadMap\"\r\n          type=\"file\"\r\n          name=\"file\"\r\n          onChange={(evt) => onChangeHandler(evt)}\r\n          accept=\".txt\"\r\n        />\r\n        <span>Load Map</span>\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaveLoadMap;\r\n","import React, { useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport NewMapForm from \"./components/NewMapForm\";\n\nimport AwesomeMap from \"./components/Map\";\nimport TilesGallery from \"./components/TilesGallery\";\nimport LayerSelector from \"./components/LayerSelector\";\nimport SelectedTileDisplay from \"./components/SelectedTileDisplay\";\nimport SelectBrushSize from \"./components/SelectBrushSize.js\";\nimport PrintMap from \"./components/PrintMap\";\nimport { folderImageStructure } from \"./utilities/TileLibraryUtilities\";\nimport ToggleGrid from \"./components/ToggleGrid\";\nimport SaveLoadMap from \"./components/SaveLoadMap\";\nvar tileTypes = [];\n\nconst importAll = (r) => {\n  return r.keys();\n};\n\ntileTypes = importAll(require.context(\"../public/images/\", true));\nconst structureFolder = folderImageStructure(tileTypes);\nconsole.log(require.context(\"../public/images/\", false));\nconsole.log(tileTypes);\nfunction App() {\n  return (\n    <div>\n      <header></header>\n      <body className=\"App-body\">\n        <div className=\"App-controls\">\n          <div className=\"App-left-controls\">\n            <SelectBrushSize />\n            <ToggleGrid />\n          </div>\n          <div className=\"App-map\">\n            <LayerSelector />\n            <AwesomeMap />\n            <SelectedTileDisplay />\n            <TilesGallery />\n          </div>\n          <div className=\"App-right-controls\">\n            <SaveLoadMap />\n            <PrintMap />\n            <NewMapForm />\n          </div>\n        </div>\n      </body>\n    </div>\n  );\n}\n\nexport default App;\n","export const folderImageStructure = (images) => {\r\n  var structure = [];\r\n  for (var i = 0; i < images.length; i++) {\r\n    const dividedImage = images[i].split(\"/\");\r\n    const folder = dividedImage[1];\r\n    if (!structure.find((element) => element.name === folder)) {\r\n      structure.push({ name: folder, content: [] });\r\n      structure[structure.length - 1].content.push(images[i]);\r\n    } else {\r\n      structure\r\n        .find((element) => element.name === folder)\r\n        .content.push(images[i]);\r\n    }\r\n  }\r\n  return structure;\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import ActionTypes from \"../Actions\";\r\nconst initialState = {\r\n  draggedElement: \"\",\r\n  mapLayers: 0,\r\n  selectedLayer: null,\r\n  brushSize: 1,\r\n  xMapSize: 10,\r\n  yMapSize: 10,\r\n  showGrid: false,\r\n  eraseMode: false,\r\n};\r\nexport default function mapReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ActionTypes.CREATE_MAP:\r\n      const xSize = action.xSize;\r\n      const ySize = action.ySize;\r\n      var newLayers = 0;\r\n      return {\r\n        ...state,\r\n        mapLayers: newLayers,\r\n        xMapSize: xSize,\r\n        yMapSize: ySize,\r\n        selectedLayer: null,\r\n      };\r\n    case ActionTypes.CHANGE_DRAGGED_ELEMENT:\r\n      return { ...state, draggedElement: action.draggedElement };\r\n    case ActionTypes.SELECT_LAYER:\r\n      return { ...state, selectedLayer: action.selectedLayer };\r\n    case ActionTypes.SET_BRUSH_SIZE:\r\n      return { ...state, brushSize: action.brushSize };\r\n    case ActionTypes.ADD_LAYER:\r\n      var newMapLayers = state.mapLayers + 1;\r\n      return {\r\n        ...state,\r\n        mapLayers: newMapLayers,\r\n      };\r\n    case ActionTypes.TOGGLE_GRID:\r\n      return { ...state, showGrid: !state.showGrid };\r\n    case ActionTypes.LOAD_MAP:\r\n      const newState = action.newState;\r\n      return {\r\n        ...state,\r\n        xMapSize: newState.xMapSize,\r\n        yMapSize: newState.yMapSize,\r\n        mapLayers: newState.mapLayers,\r\n        awesomeMap: newState.awesomeMap,\r\n      };\r\n    case ActionTypes.TOGGLE_ERASE_MODE:\r\n      return {\r\n        ...state,\r\n        eraseMode: action.eraseMode,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport mapReducer from \"./reducers/mapReducer\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nconst store = createStore(mapReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}